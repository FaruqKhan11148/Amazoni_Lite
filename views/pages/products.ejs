<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Profile</title>

    <!--
    - favicon
  -->
    <link
      rel="shortcut icon"
      href="/assets/images/logo/favicon.ico"
      type="image/x-icon"
    />

    <!--
    - custom css link
  -->
    <link rel="stylesheet" href="/assets/css/style-prefix.css" />
    <link rel="stylesheet" href="/assets/css/style.css" />
    <link rel="stylesheet" href="/assets/css/myProfileSidebar.css" />
    <link rel="stylesheet" href="/css/product.css" />
    
    
    <!--
    - google font link
  -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <%- include("../partials/header") %>

      <div class="product-main">
        <h2 class="title">Products</h2>

        <div class="product-grid">

          <% products.forEach(product => { %>

            <div class="showcase">

              <div class="showcase-banner">

                <!-- default image -->
                <img
                  src="<%= product.image_url %>"
                  class="product-img default"
                  alt="<%= product.name %>"
                />

                <!-- hover image (same for now) -->
                <img
                  src="<%= product.image_url %>"
                  class="product-img hover"
                  alt="<%= product.name %>"
                />

                <% if (product.discount) { %>
                  <p class="showcase-badge"><%= product.discount %>%</p>
                <% } %>

                <div class="showcase-actions">

                  <form action="/api/wishlist/add" method="POST" class="wishlist-form">
                    <input type="hidden" name="product_id" value="<%= product.id %>">
                    <button type="submit" class="btn-action wishlist-btn">
                      <ion-icon name="heart-outline"></ion-icon>
                    </button>
                  </form>


                  <a href="/products/<%= product.id %>" class="btn-action">
                    <ion-icon name="eye-outline"></ion-icon>
                  </a>

                  <button class="btn-action">
                    <ion-icon name="repeat-outline"></ion-icon>
                  </button>

                  <form action="/api/cart/add" method="POST">
                    <input type="hidden" name="productId" value="<%= product.id %>">
                    <input type="hidden" name="quantity" value="1">

                    <button class="btn-action" type="submit">
                      <ion-icon name="bag-add-outline"></ion-icon>
                    </button>
                  </form>

                </div>
              </div>

              <div class="showcase-content">

                  <a class="showcase-category p_name"><%= product.name%></a>

                  <h3 class="showcase-title">
                    <%= product.description %>
                  </h3>

                  <div class="showcase-rating">
                    <ion-icon name="star"></ion-icon>
                    <ion-icon name="star"></ion-icon>
                    <ion-icon name="star"></ion-icon>
                    <ion-icon name="star-outline"></ion-icon>
                    <ion-icon name="star-outline"></ion-icon>
                  </div>

                  <div class="price-box">
                    <p class="price">â‚¹ <%= product.price %></p>
                  </div>

              </div>

              <a href="/api/addresses?productId=<%= product.id %>" class="orderBtn">
                Order
              </a>

            </div>

          <% }) %>

        </div>
      </div>

    <%- include("../partials/footer") %>
    
    <script src="/assets/js/script.js"></script>
    <!--
    - ionicon link
  -->
    <script
      type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"
    ></script>
  </body>
</html>
